<div class="Home__background" ng-class="{'Home__background--reduced': vm.$state.is('home.station')}">
    <div class="container">
        <div class="row Home__title">
            <h1 class="col-md-12" ui-sref="home" ui-sref-opts="{reload: true}">
                <div class="title__line">Neukölln</div>
                <div class="title__line">Service for</div>
                <div class="title__line">Feinstaub</div>
                <div class="title__line">Warning</div>
            </h1>
        </div>
        <div class="Home__address">
            <form name="vm.searchForm" id="searchForm" ng-submit="vm.search()" novalidate>
                <div class="row" ng-hide="vm.$state.is('home.station')">
                    <div class="col-md-12">
                        <label for="address">Find the closest air quality station</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12 address-bar">
                        <input type="text" class="form-control input-lg" id="address" ng-model="vm.address" placeholder="Type here an address with a city">
                        <div class="actions">
                            <button type="submit" class="btn btn-primary btn-lg" ng-click="vm.search()" form="loginForm">Find</button>
                            <button type="reset" class="btn btn-primary btn-lg" ng-click="vm.searchWhereIam()" ng-if="vm.geolocationAvailable"><i class="material-icons">my_location</i></button>
                        </div>
                    </div>

                </div>
            </form>
        </div>
    </div>
</div>
<div class="container">
    <div class="row Home__suggestion" ng-if="vm.suggestion">
        <div class="col-md-12">
            <div class="alert alert-success" role="alert">
                We found <a ui-sref="home.station({station: vm.suggestion.station.id})"><strong ng-bind-html="vm.suggestion.station.name"></strong></a> as the closest station.
            </div>
        </div>
    </div>
    <div ui-view></div>
    <div class="row">
        <div class="col-md-push-8 col-md-4" ng-if="vm.$state.is('home')">
            <div class="well lead">
                We are collecting the daily reports from UBA air quality stations network in Germany and give you a chance to follow one of them by receiving alerts.
            </div>
        </div>
        <div class="col-md-8" ng-class="{'col-md-pull-4': vm.$state.is('home')}" ng-if="!vm.suggestion && vm.alerts">
            <h2>Latests alerts in Berlin</h2>
            <div ng-repeat="alert in vm.alerts">
                <h3>Station <a ui-sref="home.station({station: alert.station.id})" ng-bind-html="alert.station.name"></a></h3>
                <p>{{ alert.report.kind}}: {{ alert.value }} µg/m³<br/>{{alert.report.date | date : 'fullDate' }}</p>
            </div>
        </div>
    </div>

</div>
<div class="container">
    <footer>
        <div class="row">
            <div class="col-md-12">
                Developed by <a href="https://twitter.com/vied12" target="_blank">Edouard</a>,
                from a brillant idea of <a href="https://twitter.com/jmi" target="_blank">Jan</a>,
                an illustration from <a href="https://www.flickr.com/photos/davdenic/20265152826/" target="_blank">David Denicolò</a>
                with the helpful Carmen's advices
                and the <a href="https://www.umweltbundesamt.de/en/data/current-concentrations-of-air-pollutants-in-germany" target="_blank">UBA's data</a>.
            </div>
        </div>
    </footer>
</div>
